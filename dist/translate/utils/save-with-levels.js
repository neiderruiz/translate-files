"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.saveWithLevels=void 0;var fs=_interopRequireWildcard(require("fs")),_addKeyValueToObject=require("./add-key-value-to-object"),_sortByLanguage=require("./sort-by-language"),_langs=require("../types/langs");function _getRequireWildcardCache(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(_getRequireWildcardCache=function(a){return a?c:b})(a)}function _interopRequireWildcard(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!=typeof b&&"function"!=typeof b)return{default:b};var d=_getRequireWildcardCache(c);if(d&&d.has(b))return d.get(b);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in b)if("default"!=a&&Object.prototype.hasOwnProperty.call(b,a)){var g=f?Object.getOwnPropertyDescriptor(b,a):null;g&&(g.get||g.set)?Object.defineProperty(e,a,g):e[a]=b[a]}return e.default=b,d&&d.set(b,e),e}const saveWithLevels=(a,b,c)=>{const d=(0,_sortByLanguage.sortByLanguage)(a),e=["base","key"],f=_langs.langs.map(a=>a.code);d.map(a=>{const d=Object.keys(a)[0];if(!e.includes(d)&&f.includes(d)){let e={};Object.entries(a[d]).forEach(([a,b])=>{const d=a.split(c?.separator??".");(0,_addKeyValueToObject.addKeyValueToObject)(e,d,b)}),fs.writeFileSync(`${b}/${d}.json`,JSON.stringify(e,null,4)),console.log(`ðŸŸ¢  Finish success ${d.toUpperCase()}  ${b}/${d}.json \n`)}})};exports.saveWithLevels=saveWithLevels;